import base64
exec(base64.b64decode("Iy0tLS0tLS0tLS0tLS0tLS0tWyBJTVBPUlQtTU9EVUxFIF0tLS0tLS0tLS0tLS0tLS0tLS0tDQppbXBvcnQgcmVxdWVzdHMsYnM0LGpzb24sb3Msc3lzLHJhbmRvbSxkYXRldGltZSx0aW1lLHJlDQppbXBvcnQgdXJsbGliMyxyaWNoLGJhc2U2NA0KZnJvbSByaWNoLnRhYmxlIGltcG9ydCBUYWJsZSBhcyBtZQ0KZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IENvbnNvbGUgYXMgc29sDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3ANCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgdHJlZA0KZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IEdyb3VwIGFzIGdwDQpmcm9tIHJpY2gucGFuZWwgaW1wb3J0IFBhbmVsIGFzIG5lbA0KZnJvbSByaWNoIGltcG9ydCBwcmludCBhcyBjZXRhaw0KZnJvbSByaWNoLm1hcmtkb3duIGltcG9ydCBNYXJrZG93biBhcyBtYXJrDQpmcm9tIHJpY2guY29sdW1ucyBpbXBvcnQgQ29sdW1ucyBhcyBjb2wNCmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgcnByaW50DQpmcm9tIHJpY2ggaW1wb3J0IHByZXR0eQ0KZnJvbSByaWNoLnRleHQgaW1wb3J0IFRleHQgYXMgdGVreg0KcHJldHR5Lmluc3RhbGwoKQ0KQ09OPXNvbCgpDQojLS0tLS0tLS0tLS0tLS0tLS0tWyBVU0VSLUFHRU5UIF0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KdWdlbjI9W10NCnVnZW49W10NCmNva2JydXQ9W10NCnNlcz1yZXF1ZXN0cy5TZXNzaW9uKCkNCnByaW5jcD1bXQ0KdHJ5Og0KCXByb3g9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9hcGkucHJveHlzY3JhcGUuY29tL3YyLz9yZXF1ZXN0PWRpc3BsYXlwcm94aWVzJnByb3RvY29sPXNvY2tzNCZ0aW1lb3V0PTEwMDAwMCZjb3VudHJ5PWFsbCZzc2w9YWxsJmFub255bWl0eT1hbGwnKS50ZXh0DQoJb3BlbignLnByb3gudHh0JywndycpLndyaXRlKHByb3gpDQpleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQoJcHJpbnQoJ1tbXHgxYlsxOzkybeKAolx4MWJbMTs5N21dIFtceDFiWzE7OTZtQWx2aW5vX2FkaWpheWFfeHknKQ0KcHJveD1vcGVuKCcucHJveC50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KZm9yIHhkIGluIHJhbmdlKDEwMDAwKToNCglhPSdNb3ppbGxhLzUuMCAoU3ltYmlhbi8zOyBTZXJpZXM2MC8nDQoJYj1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQoJYz1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQoJZD0nTm9raWEnDQoJZT1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkNCglmPScvMTEwLjAyMS4wMDI4OyBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgKSBBcHBsZVdlYktpdC81MzUuMSAoS0hUTUwsIGxpa2UgR2Vja28pIE5va2lhQnJvd3Nlci8nDQoJZz1yYW5kb20ucmFuZHJhbmdlKDEsIDkpDQoJaD1yYW5kb20ucmFuZHJhbmdlKDEsIDQpDQoJaT1yYW5kb20ucmFuZHJhbmdlKDEsIDQpDQoJaj1yYW5kb20ucmFuZHJhbmdlKDEsIDQpDQoJaz0nTW9iaWxlIFNhZmFyaS81MzUuMScNCgl1YWt1PShmJ3thfXtifS57Y30ge2R9e2V9e2Z9e2d9LntofS57aX0ue2p9IHtrfScpDQoJdWdlbjIuYXBwZW5kKHVha3UpDQoNCg0KCWFhPSdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQnDQoJYj1yYW5kb20uY2hvaWNlKFsnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMiddKQ0KCWM9JyBlbi11czsgR1QtJw0KCWQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQoJZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkNCglmPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KCWc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8nDQoJaD1yYW5kb20ucmFuZHJhbmdlKDczLDEwMCkNCglpPScwJw0KCWo9cmFuZG9tLnJhbmRyYW5nZSg0MjAwLDQ5MDApDQoJaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkNCglsPSdNb2JpbGUgU2FmYXJpLzUzNy4zNicNCgl1YWt1Mj1mJ3thYX0ge2J9OyB7Y317ZH17ZX17Zn0pIHtnfXtofS57aX0ue2p9LntrfSB7bH0nDQoJdWdlbi5hcHBlbmQodWFrdTIpDQpmb3IgeCBpbiByYW5nZSgxMCk6DQoJYT0nTW96aWxsYS81LjAgKFNBTVNVTkc7IFNBTVNVTkctR1QtUycNCgliPXJhbmRvbS5yYW5kcmFuZ2UoMTAwLCA5OTk5KQ0KCWM9cmFuZG9tLnJhbmRyYW5nZSgxMDAsIDk5OTkpDQoJZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCgllPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KCWY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQoJZz1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCgloPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkNCglpPSc7IFU7IEJhZGEvMS4yOyBlbi11cykgQXBwbGVXZWJLaXQvNTMzLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBEb2xmaW4vJw0KCWo9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQ0KCWs9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQ0KCWw9J01vYmlsZSBXVkdBIFNNTS1NTVMvMS4yLjAgT1BOLUInDQoJdWFrPWYne2F9e2J9L3tjfXtkfXtlfXtmfXtnfXtofXtpfXtqfS57a30ge2x9Jw0KZGVmIHVha3UoKToNCgl0cnk6DQoJCXVhPW9wZW4oJ2JibmV3LnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoJCWZvciB1YiBpbiB1YToNCgkJCXVnZW4uYXBwZW5kKHViKQ0KCWV4Y2VwdDoNCgkJYT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ2l0aHViLmNvbS9qYWhpZWQvYS9ibG9iL21haW4vYmJuZXcudHh0JykudGV4dA0KCQl1YT1vcGVuKCcuYmJuZXcudHh0JywndycpDQoJCWFhPXJlLmZpbmRhbGwoJ2xpbmUiPiguKj8pPCcsc3RyKGEpKQ0KCQlmb3IgdW4gaW4gYWE6DQoJCQl1YS53cml0ZSh1bisnXG4nKQ0KCQl1YT1vcGVuKCcuYmJuZXcudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCiMtLS0tLS0tLS0tLS1bIElORElDQVRJT04gXS0tLS0tLS0tLS0tLS0tLSMNCmlkLGlkMixsb29wLG9rLGNwLGFrdW4sb3ByZWssbWV0aG9kLGxpc2Vuc2lrdSx0YXBsaWthc2ksdG9rZW5rdSx1aWQsbGlzZW5zaWt1bmk9IFtdLFtdLDAsMCwwLFtdLFtdLFtdLFtdLFtdLFtdLFtdLFtdDQpjb2ticnV0PVtdDQpwd3BsdXNzLHB3bnlhPVtdLFtdDQojLS0tLS0tLS0tLS0tWyBXQVJOQS1DT0xPUiBdLS0tLS0tLS0tLS0tLS0jDQpQID0gJ1x4MWJbMTs5N20nDQpNID0gJ1x4MWJbMTs5MW0nDQpIID0gJ1x4MWJbMTs5Mm0nDQpLID0gJ1x4MWJbMTs5M20nDQpCID0gJ1x4MWJbMTs5NG0nDQpVID0gJ1x4MWJbMTs5NW0nIA0KTyA9ICdceDFiWzE7OTZtJw0KTiA9ICdceDFiWzBtJyAgICANClogPSAiXDAzM1sxOzMwbSINCnNpciA9ICdcMDMzWzQxbVx4MWJbMTs5N20nDQp4ID0gJ1wzM1ttJyAjIERFRkFVTFQNCm0gPSAnXHgxYlsxOzkxbScgI1JFRCArDQprID0gJ1wwMzNbOTNtJyAjIEtVTklORyArDQpoID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUgKw0KaGggPSAnXDAzM1szMm0nICMgSElKQVUgLQ0KdSA9ICdcMDMzWzk1bScgIyBVTkdVDQprayA9ICdcMDMzWzMzbScgIyBLVU5JTkcgLQ0KYiA9ICdcMzNbMTs5Nm0nICMgQklSVSAtDQpwID0gJ1x4MWJbMDszNG0nICMgQklSVSArDQphc3UgPSByYW5kb20uY2hvaWNlKFttLGssaCx1LGJdKQ0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBDT05WRVJURVItQlVMQU4gXS0tLS0tLS0tLS0tLS0tIw0KZGljID0geycxJzonSmFudWFyeScsJzInOidGZWJydWFyeScsJzMnOidNYXJjaCcsJzQnOidBcHJpbCcsJzUnOidNYXknLCc2JzonSnVuZScsJzcnOidKdWx5JywnOCc6J0F1Z3VzdCcsJzknOidTZXB0ZW1iZXInLCcxMCc6J09jdG9iZXInLCcxMSc6J05vdmVtYmVyJywnMTInOidEZWNlbWJlcid9DQpkaWMyID0geycwMSc6J0phbnVhcnknLCcwMic6J0ZlYnJ1YXJ5JywnMDMnOidNYXJjaCcsJzA0JzonQXByaWwnLCcwNSc6J01heScsJzA2JzonSnVuZScsJzA3JzonSnVseScsJzA4JzonQXVndXN0JywnMDknOidTZXB0ZW1iZXInLCcxMCc6J09jdG9iZXInLCcxMSc6J05vdmVtYmVyJywnMTInOidEZXZlbWJlcid9DQp0Z2wgPSBkYXRldGltZS5kYXRldGltZS5ub3coKS5kYXkNCmJsbiA9IGRpY1soc3RyKGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLm1vbnRoKSldDQp0aG4gPSBkYXRldGltZS5kYXRldGltZS5ub3coKS55ZWFyDQpva2MgPSAnT0stJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0Jw0KY3BjID0gJ0NQLScrc3RyKHRnbCkrJy0nK3N0cihibG4pKyctJytzdHIodGhuKSsnLnR4dCcNCiMtLS0tLS0tLS0tLS0tLS0tLS1bIE1BQ0hJTkUtU1VQUE9SVCBdLS0tLS0tLS0tLS0tLS0tIw0KZGVmIGFsdmlub194eSh1KToNCiAgICAgICAgZm9yIGUgaW4gdSArICJcbiI6c3lzLnN0ZG91dC53cml0ZShlKTtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwNSkNCmRlZiBjbGVhcigpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KZGVmIGJhY2soKToNCglsb2dpbigpDQojLS0tLS0tLS0tLS0tLS0tLS0tWyBMT0dPLUxBS05BVCBdLS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgYmFubmVyKCk6DQoJY2xlYXIoKQ0KCXNvbCgpDQoJYmFuPScnJyBXZWxjb21lIFRvIEJsYWNrIEh1bnRlciBUZWFtDQogIF9fX18gICAgICAgIF8gICAgXyAgIF9fX19fX18gX19fX19fICAgICAgICAgIF9fICBfXyANCiB8ICBfIFwgICAgICB8IHwgIHwgfCB8X18gICBfX3wgIF9fX198ICAgL1wgICB8ICBcLyAgfA0KIHwgfF8pIHxfX19fX3wgfF9ffCB8ICAgIHwgfCAgfCB8X18gICAgIC8gIFwgIHwgXCAgLyB8DQogfCAgXyA8X19fX19ffCAgX18gIHwgICAgfCB8ICB8ICBfX3wgICAvIC9cIFwgfCB8XC98IHwNCiB8IHxfKSB8ICAgICB8IHwgIHwgfCAgICB8IHwgIHwgfF9fX18gLyBfX19fIFx8IHwgIHwgfA0KIHxfX19fLyAgICAgIHxffCAgfF98ICAgIHxffCAgfF9fX19fXy9fLyAgICBcX1xffCAgfF98JycnDQoJY2V0YWsobmVsKGJhbiwgc3R5bGU9J2JsdWUnKSkNCiMtLS0tLS0tLS0tLS0tLS0tLS0tLVsgUEFSVC1JTkNMVURJTkcgXS0tLS0tLS0tLS0tLS0tIw0KZGVmIGxvZ2luKCk6DQoJdHJ5Og0KCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpDQoJCWNvayA9IG9wZW4oJy5jb2sudHh0JywncicpLnJlYWQoKQ0KCQl0b2tlbmt1LmFwcGVuZCh0b2tlbikNCgkJdHJ5Og0KCQkJc3kgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2ZpZWxkcz1pZCxuYW1lJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0sIGNvb2tpZXM9eydjb29raWUnOmNva30pDQoJCQlzeTIgPSBqc29uLmxvYWRzKHN5LnRleHQpWyduYW1lJ10NCgkJCXN5MyA9IGpzb24ubG9hZHMoc3kudGV4dClbJ2lkJ10NCgkJCW1lbnUoc3kyLHN5MykNCgkJZXhjZXB0IEtleUVycm9yOg0KCQkJbG9naW5fbGFnaTMzNCgpDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCWxpID0gJyMgUFJPQkxFTSBJTlRFUk5FVCBDT05ORUNUSU9OLCBDSEVDSyBBTkQgVFJZIEFHQUlOJw0KCQkJbG8gPSBtYXJrKGxpLCBzdHlsZT0ncmVkJykNCgkJCXNvbCgpLnByaW50KGxvLCBzdHlsZT0ncHVycGxlJykNCgkJCWV4aXQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlsb2dpbl9sYWdpMzM0KCkNCmRlZiBsb2dpbl9sYWdpMzM0KCk6DQoJdHJ5Og0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJYmFubmVyKCkNCgkJY2V0YWsobmVsKCdcdCAgICAgICAgICAgICBCRC1KQUhJRUQgOiBbZ3JlZW5dRU5KT1kgVE9PTFNbcHVycGxlXSAnKSkNCgkJYXN1ID0gcmFuZG9tLmNob2ljZShbbSxrLGgsYix1XSkNCgkJY29va2llPWlucHV0KGYnICBbe2h94oCie3V9XSBDb29raWVzIDp7YXN1fSAnKQ0KCQlkYXRhID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbS9idXNpbmVzc19sb2NhdGlvbnMiLCBoZWFkZXJzID0geyJ1c2VyLWFnZW50IjogIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA2LjAuMTsgUmVkbWkgNEEgQnVpbGQvTU1CMjlNKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNTkuMC4zMDcxLjkyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwicmVmZXJlciI6ICJodHRwczovL3d3dy5mYWNlYm9vay5jb20vIiwiaG9zdCI6ICJidXNpbmVzcy5mYWNlYm9vay5jb20iLCJvcmlnaW4iOiAiaHR0cHM6Ly9idXNpbmVzcy5mYWNlYm9vay5jb20iLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIiA6ICIxIiwiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43IiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44IiwiY29udGVudC10eXBlIjoidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04In0sIGNvb2tpZXMgPSB7ImNvb2tpZSI6Y29va2llfSkgDQoJCWZpbmRfdG9rZW4gPSByZS5zZWFyY2goIihFQUFHXHcrKSIsIGRhdGEudGV4dCkNCgkJa2VuPW9wZW4oIi50b2tlbi50eHQiLCAidyIpLndyaXRlKGZpbmRfdG9rZW4uZ3JvdXAoMSkpDQoJCWNvaz1vcGVuKCIuY29rLnR4dCIsICJ3Iikud3JpdGUoY29va2llKQ0KCQlwcmludChmJyAge3V9W3tofeKAont1fV17aH0gU1VDQ0VTU0ZVTCBMT0dJTiEhISF7a30gJyk7dGltZS5zbGVlcCgxKQ0KCQlleGl0KCkNCglleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQoJCW9zLnN5c3RlbSgicm0gLWYgLnRva2VuLnR4dCIpDQoJCW9zLnN5c3RlbSgicm0gLWYgLmNvay50eHQiKQ0KCQlwcmludChmJyAgJXNbJXN4JXNdJXMgTE9HSU4gR0FHQUwuLi4uLkNFSyBUVU1CQUwgTFVVIE5HQUIgISElcyclKHgsayx4LG0seCkpDQoJCWV4aXQoKQ0KIy0tLS0tLS0tLS0tLS0tLS0tLVsgU0VDVElPTi1NRU5VIF0tLS0tLS0tLS0tLS0tLS0tIw0KZGVmIG1lbnUobXlfbmFtZSxteV9pZCk6DQoJdHJ5Og0KCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpDQoJCWNvayA9IG9wZW4oJy5jb2sudHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCgnW8OXXSBDb29raWVzIEV4cGlyZWQgJykNCgkJdGltZS5zbGVlcCg1KQ0KCQlsb2dpbl9sYWdpMzM0KCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgliYW5uZXIoKQ0KCWlwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2FwaS5pcGlmeS5vcmciKS50ZXh0DQoJY2V0YWsobmVsKCdXZWxjb21lIFtncmVlbl0lc1twdXJwbGVdIFlPVVIgSUQnJShteV9uYW1lKSkpDQoJYWx2aW5vX3h5KGYne3V9SUQgIDogJytzdHIobXlfaWQpKQ0KCWFsdmlub194eShmJ3tofUlQICA6IHtpcH0nKQ0KCWNldGFrKG5lbCgnXHRbYm9sZCBjeWFuXSAgICAgICAgICAg4oCiIENIT09TRSBOT1cg4oCiIFsvYm9sZCBjeWFuXScpKQ0KCXByaW50KCcnKQ0KCWNldGFrKG5lbCgnW2JvbGQgZ3JlZW5dIDEuIENyYWNrIFB1Ymxpa1xuIDAuIEV4aXQgW2JvbGQgZ3JlZW5dJykpIA0KCV9fX19fY293b2tfX3BpbmtfX19fXyA9IGlucHV0KCdcbuKepeKepeKeo1NlbGVjdCA6ICcpDQoJaWYgX19fX19jb3dva19fcGlua19fX19fIGluIFsnMSddOg0KCQlkdW1wX21hc3NhbCgpDQoJZWxpZiBfX19fX2Nvd29rX19waW5rX19fX18gaW4gWycyJ106DQoJCWR1bXBfZm9sbG93ZXIoKQ0KCWVsaWYgX19fX19jb3dva19fcGlua19fX19fIGluIFsnMyddOg0KCQllcnJvcigpDQoJZWxpZiBfX19fX2Nvd29rX19waW5rX19fX18gaW4gWyc0J106DQoJCWNyYWNrX2ZpbGUoKQ0KCWVsaWYgX19fX19jb3dva19fcGlua19fX19fIGluIFsnNSddOg0KCQlyZXN1bHQoKQ0KCWVsaWYgX19fX19jb3dva19fcGlua19fX19fIGluIFsnMCddOg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiAudG9rZW4udHh0JykNCgkJb3Muc3lzdGVtKCdybSAtcmYgLmNvb2tpZS50eHQnKQ0KCQlwcmludCgn4p6l4p6l4p6jU3VjY2VzcyBMb2dvdXQgUmVtb3ZlIFBhaW50ICcpDQoJCWV4aXQoKQ0KCWVsc2U6DQoJCXByaW50KCfinqXinqXinqNDaG9vc2UgdGhlIEJlbmVyICcpDQoJCWJhY2soKQ0KZGVmIGVycm9yKCk6DQoJcHJpbnQoZid7a33inqXinqXinqNTb3JyeSBUaGlzIEZlYXR1cmUgSXMgU3RpbGwgRml4aW5nIHt1fScpDQoJdGltZS5zbGVlcCg0KQ0KCWJhY2soKQ0KIy0tLS0tLS0tLS0tLS0tLS0tWyBZT1VSLUNSQUNLIF0tLS0tLS0tLS0tLS0tLS0tLSMNCmRlZiByZXN1bHQoKToNCglwcmludCgn4p6l4p6l4p6jWW91ciBPSyBSZXN1bHRzICcpDQoJcHJpbnQoJ+KepeKepeKeo1lvdXIgQ1AgUmVzdWx0cyAnKQ0KCXByaW50KCfinqXinqXinqNCYWNrCScpDQoJa3ogPSBpbnB1dCgnXG7inqXinqXinqNTZWxlY3QgOiAnKQ0KCWlmIGt6IGluIFsnMScsJzAxJ106DQoJCXRyeTp2aW4gPSBvcy5saXN0ZGlyKCdDUCcpDQoJCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCgkJCXByaW50KCfinqXinqXinqNGaWxlIE5vdCBGaW5kICcpDQoJCQl0aW1lLnNsZWVwKDMpDQoJCQliYWNrKCkNCgkJaWYgbGVuKHZpbik9PTA6DQoJCQlwcmludCgn4p6l4p6l4p6jWW91IEhhdmUgTm8gUmVzdWx0cyBDUCAnKQ0KCQkJdGltZS5zbGVlcCgyKQ0KCQkJYmFjaygpDQoJCWVsc2U6DQoJCQljaWggPSAwDQoJCQlsb2wgPSB7fQ0KCQkJZm9yIGlzaSBpbiB2aW46DQoJCQkJdHJ5OmhlbSA9IG9wZW4oJ0NQLycraXNpLCdyJykucmVhZGxpbmVzKCkNCgkJCQlleGNlcHQ6Y29udGludWUNCgkJCQljaWgrPTENCgkJCQlpZiBjaWg8MTA6DQoJCQkJCW5vbSA9ICcwJytzdHIoY2loKQ0KCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pDQoJCQkJCWxvbC51cGRhdGUoe25vbTpzdHIoaXNpKX0pDQoJCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyBbICcrc3RyKGxlbihoZW0pKSsnIEFjY291bnQgXScrdSkNCgkJCQllbHNlOg0KCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pDQoJCQkJCXByaW50KCdbJytzdHIoY2loKSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt1KQ0KCQkJZ2VlaCA9IGlucHV0KCdcbuKepeKepeKeo1NlbGVjdCA6ICcpDQoJCQl0cnk6Z2VoID0gbG9sW2dlZWhdDQoJCQlleGNlcHQgS2V5RXJyb3I6DQoJCQkJcHJpbnQoJ+KepeKepeKeo0Nob29zZSB0aGUgQmVuZXIgQ29udG9sICcpDQoJCQkJZXhpdCgpDQoJCQl0cnk6bGluID0gb3BlbignQ1AvJytnZWgsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoJCQlleGNlcHQ6DQoJCQkJcHJpbnQoJ+KepeKepeKeo0ZpbGUgTm90IEZpbmQgJykNCgkJCQl0aW1lLnNsZWVwKDIpDQoJCQkJYmFjaygpDQoJCQlub2NwPTANCgkJCWZvciBjcGt1IGluIHJhbmdlKGxlbihsaW4pKToNCgkJCQljcGt1bmk9bGluW25vY3BdLnNwbGl0KCd8JykNCgkJCQljcGt1aD1mJyMgSUQgOiB7Y3BrdW5pWzBdfSBQQVNTV09SRCA6IHtjcGt1bmlbMV19Jw0KCQkJCXNvbCgpLnByaW50KG1hcmsoY3BrdWgsc3R5bGU9InllbGxvdyIpKQ0KCQkJCW5vY3AgKz0xDQoJCQlpbnB1dCgnWyBLbGlrIEVudGVyIF0nKQ0KCQkJYmFjaygpDQoJZWxpZiBreiBpbiBbJzInLCcwMiddOg0KCQl0cnk6dmluID0gb3MubGlzdGRpcignT0snKQ0KCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQoJCQlwcmludCgn4p6l4p6l4p6jRmlsZSBOb3QgRmluZCAnKQ0KCQkJdGltZS5zbGVlcCgyKQ0KCQkJYmFjaygpDQoJCWlmIGxlbih2aW4pPT0wOg0KCQkJcHJpbnQoJ+KepeKepeKeo0FuZGEgVGlkYWsgTWVtcHVueWFpIEZpbGUgT0sgJykNCgkJCXRpbWUuc2xlZXAoMikNCgkJCWJhY2soKQ0KCQllbHNlOg0KCQkJY2loID0gMA0KCQkJbG9sID0ge30NCgkJCWZvciBpc2kgaW4gdmluOg0KCQkJCXRyeTpoZW0gPSBvcGVuKCdPSy8nK2lzaSwncicpLnJlYWRsaW5lcygpDQoJCQkJZXhjZXB0OmNvbnRpbnVlDQoJCQkJY2loKz0xDQoJCQkJaWYgY2loPDEwMDoNCgkJCQkJbm9tID0gJzAnK3N0cihjaWgpDQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkNCgkJCQkJcHJpbnQoJ1snK25vbSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt1KQ0KCQkJCWVsc2U6DQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJcHJpbnQoJ1snK3N0cihjaWgpKyddICcraXNpKycgWyAnK3N0cihsZW4oaGVtKSkrJyBBY2NvdW50IF0nK3UpDQoJCQlnZWVoID0gaW5wdXQoJ1xu4p6l4p6l4p6jU2VsZWN0IDogJykNCgkJCXRyeTpnZWggPSBsb2xbZ2VlaF0NCgkJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCQlwcmludCgn4p6l4p6l4p6jQ2hvb3NlIHRoZSBCZW5lciAnKQ0KCQkJCWV4aXQoKQ0KCQkJdHJ5OmxpbiA9IG9wZW4oJ09LLycrZ2VoLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KCQkJZXhjZXB0Og0KCQkJCXByaW50KCfinqXinqXinqNGaWxlIE5vdCBGaW5kICcpDQoJCQkJdGltZS5zbGVlcCgyKQ0KCQkJCWJhY2soKQ0KCQkJbm9jcD0wDQoJCQlmb3IgY3BrdSBpbiByYW5nZShsZW4obGluKSk6DQoJCQkJY3BrdW5pPWxpbltub2NwXS5zcGxpdCgnfCcpDQoJCQkJY3BrdWg9ZicjIElEIDoge2Nwa3VuaVswXX0gUEFTU1dPUkQgOiB7Y3BrdW5pWzFdfScNCgkJCQlzb2woKS5wcmludChtYXJrKGNwa3VoLHN0eWxlPSJncmVlbiIpKQ0KCQkJCXByaW50KGYne2hofUNPT0tJRSA6IHt1fXtjcGt1bmlbMl19JykNCgkJCQlub2NwICs9MQ0KCQkJaW5wdXQoJ1sgQ2xpY2sgRW50ZXIgXScpDQoJCQliYWNrKCkNCgllbGlmIGt6IGluIFsnMCcsJzAwJ106DQoJCWJhY2soKQ0KCWVsc2U6DQoJCXByaW50KCfinqXinqXinqNDaG9vc2UgdGhlIEJlbmVyICcpDQoJCWV4aXQoKQ0KIy0tLS0tLS0tLS0tLS0tLS0tLS1bIENSQUNLLVBVQkxJSyBdLS0tLS0tLS0tLS0tLS0tLSMNCmRlZiBkdW1wX21hc3NhbCgpOg0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCcudG9rZW4udHh0JywncicpLnJlYWQoKQ0KCQljb2sgPSBvcGVuKCcuY29rLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJZXhpdCgpDQoJdHJ5Og0KCQlqdW0gPSBpbnQoaW5wdXQoJ+KepeKepeKeo0hPVyBUTyBUQVJHRVQgID8gOiAnKSkNCglleGNlcHQgVmFsdWVFcnJvcjoNCgkJcHJpbnQoJ3trfeKepeKepeKeo1dST05HIFRIRSAgWU9VIEFSIEJBRCBMVUNLICcpDQoJCWV4aXQoKQ0KCWlmIGp1bTwxIG9yIGp1bT4xMDA6DQoJCXByaW50KCfinqXinqXinqNGYWlsZWQgRHVtcCBJZHogJykNCgkJZXhpdCgpDQoJc2VzPXJlcXVlc3RzLlNlc3Npb24oKQ0KCXl6ID0gMA0KCWZvciBtZXQgaW4gcmFuZ2UoanVtKToNCgkJeXorPTENCgkJa2wgPSBpbnB1dCgn4p6l4p6l4p6jSU5QVVQgSUQgJytzdHIoeXopKycgOiAnKQ0KCQl1aWQuYXBwZW5kKGtsKQ0KCWZvciB1c2VyciBpbiB1aWQ6DQoJCXRyeToNCgkJCWNvbCA9IHNlcy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjAvJyt1c2VycisnP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0sIGNvb2tpZXMgPSB7J2Nvb2tpZXMnOmNva30pLmpzb24oKQ0KCQkJZm9yIG1pIGluIGNvbFsnZnJpZW5kcyddWydkYXRhJ106DQoJCQkJdHJ5Og0KCQkJCQlpc28gPSAobWlbJ2lkJ10rJ3wnK21pWyduYW1lJ10pDQoJCQkJCWlmIGlzbyBpbiBpZDpwYXNzDQoJCQkJCWVsc2U6aWQuYXBwZW5kKGlzbykNCgkJCQlleGNlcHQ6Y29udGludWUNCgkJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCgkJCXBhc3MNCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJcHJpbnQoJ3trfeKepeKepeKeo0JhZCBzaWduYWwgJykNCgkJCWV4aXQoKQ0KCXRyeToNCgkJcHJpbnQoJycpDQoJCXByaW50KGYne2t94p6l4p6l4p6jVGhlIG9uZSBjb2xsZWN0ZWTimIV7Yn0nK3N0cihsZW4oaWQpKSkNCgkJc2V0dGluZygpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludChmJ3t1fScpDQoJCXByaW50KCfinqXinqXinqNCZWQgc2lnbmFsICcpDQoJCWJhY2soKQ0KCWV4Y2VwdCAoS2V5RXJyb3IsSU9FcnJvcik6DQoJCXByaW50KGYn4p6l4p6l4p6l4p6je2t9IEZyaWVuZHNoaXAgTm8uIFB1YmxpYyB7dX0nKQ0KCQl0aW1lLnNsZWVwKDMpDQoJCWJhY2soKQ0KIy0tLS0tLS0tLS0tLS0tLS0tLS1bIENSQUNLLVBFTkdJS1VUIF0tLS0tLS0tLS0tLS0tLS0tIw0KZGVmIGR1bXBfcGVuZ2lrdXQoKToNCgl0cnk6DQoJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkNCgkJY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCWV4aXQoKQ0KCXByaW50KCfinqXinqXinqNUeXBlICggbWUgKSBJZiB5b3Ugd2FudCB0byBjcmFjayB5b3VyIG93biBmb2xsb3dlciAnKQ0KCXBpbCA9IGlucHV0KCfinqXinqNFbnRlciBJZHogVGFyZ2V0IDogJykNCgl0cnk6DQoJCWtvaDIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrcGlsKyc/ZmllbGRzPXN1YnNjcmliZXJzLmxpbWl0KDk5OTk5KSZhY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdLGNvb2tpZXM9eydjb29raWUnOiBjb2t9KS5qc29uKCkNCgkJZm9yIHBpIGluIGtvaDJbJ3N1YnNjcmliZXJzJ11bJ2RhdGEnXToNCgkJCXRyeTppZC5hcHBlbmQocGlbJ2lkJ10rJ3wnK3BpWyduYW1lJ10pDQoJCQlleGNlcHQ6Y29udGludWUNCgkJcHJpbnQoZifinqXinqXinqNUb3RhbCBJZHogOntofSAnK3N0cihsZW4oaWQpKSkNCgkJc2V0dGluZygpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludCgn4p6l4p6l4p6jQmVkIEludGVybmV0IENvbm5lY3Rpb24gJykNCgkJZXhpdCgpDQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCgkJcHJpbnQoJ+KepeKepeKeo0ZhaWxlZCB0byBUYWtlIFRhcmdldCAnKQ0KCQlleGl0KCkNCiMtLS0tLS0tLS0tLS0tLS0tLS1bIENSQUNLLUdSVVAgXS0tLS0tLS0tLS0tLS0tLS0tIw0KYmFsbW9uZCA9IGIrIlsiK2grIuKckyIrYisiXSINCg0KZGVmIGxhaCgpOg0KCXByaW50KCJcciIrYmFsbW9uZCttKyIgXHgxYlsxOzk1bVRvdGFsIElEIFlhbmcgVGVya3VtcHVsIDpceDFiWzE7OTdtICIrc3RyKGxlbihpZCkpKyIgICAgICAgICAgICAgICAgICAgICAiKQ0KCWlucHV0KGJhbG1vbmQrbSArIlx4MWJbMTs5N20gS2xpayBbXHgxYlsxOzk2bSBFbnRlciBdXHgxYlsxOzk3bSBKaWthIEluZ2luIExhbmdzdW5nIENyYWNrICEhIikNCglwYXNzDQoJc2V0dGluZygpDQpkZWYgZ3J1cCgpOg0KCXByaW50KCcnKQ0KCWlkID0gaW5wdXQoIiIrYmFsbW9uZCtoKyIgXHgxYlsxOzk0bT4+IE1hc3Vra2FuIElkeiBHcnVwIDpceDFiWzE7OTRtICIpDQoJdWEgPSAnTW96aWxsYS81LjAgKFN5bWJpYW5PUy85LjM7IFNlcmllczYwLzMuMiBOb2tpYUU1Mi0xLzA1Mi4wMDM7IFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSApIEFwcGxlV2ViS2l0LzUyNSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMy4wIEJyb3dzZXJORy83LjIuNi4yIDNncHAtZ2JhJw0KCW1pc2tpbmx1ID0geyJ1c2VyLWFnZW50IjogdWF9DQoJdXJsID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9ncm91cHMvIitpZA0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCXRyeToNCgkJZ24gPSBwYXJzZXIoc2VzLmdldCh1cmwsIGhlYWRlcnM9bWlza2lubHUpLnRleHQsICdodG1sLnBhcnNlcicpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludChiYWxtb25kK20rIiBLb25la3NpIEludGVybmV0IFRlcnB1dHVzLi4iKQ0KCQl0aW1lLnNsZWVwKDAuNSkNCgkJZXhpdCgpDQoJYmVyciA9IGduLmZpbmQoInRpdGxlIikNCgliZXJyMiA9IGJlcnIudGV4dC5yZXBsYWNlKCIgfCBGYWNlYm9vayIsIiIpLnJlcGxhY2UoIiBHcnVwIFB1YmxpayIsIiIpDQoJaWYgYmVycjI9PSdNYXN1ayBGYWNlYm9vayc6DQoJCXByaW50KGJhbG1vbmQrbSsiIExpbWl0LCBQbGVhc2UgQWlycGxhbmUgTW9kZSBBbmQgVHJ5IEFnYWluLi4iKQ0KCQl0aW1lLnNsZWVwKDAuNSkNCgkJY3JhY2tfZ3J1cCgpDQoJZWxpZiBiZXJyMj09J0tlc2FsYWhhbic6DQoJCWphbGFuKGJhbG1vbmQrbSsiIEdydXAgVGlkYWsgRGl0ZW11a2FuLi4iKQ0KCQl0aW1lLnNsZWVwKDAuNSkNCgkJY3JhY2tfZ3J1cCgpDQoJZWxzZTpwYXNzDQoJcHJpbnQoIiIrYmFsbW9uZCtwKyIgXHgxYlsxOzk0bT4+IE5hbWEgR3J1cCA6XHgxYlsxOzk3bSAiK2JlcnIyKQ0KCWdncyA9IGduLmZpbmRfYWxsKCd0YWJsZScpDQoJYW5nID0gW10NCglmb3IgZmYgaW4gZ2dzOg0KCQlhbmdnbyA9IGZmLnRleHQNCgkJYnJvID0gYW5nZ28ucmVwbGFjZSgnQW5nZ290YScsJycpDQoJCXRyeToNCgkJCW1leCA9IGludChicm8pDQoJCQlqdW1sYWggPSBhbmcuYXBwZW5kKG1leCkNCgkJZXhjZXB0Og0KCQkJcGFzcw0KCWlmIGxlbihhbmcpPT0wOg0KCQlwcmludChiYWxtb25kK2grIiBBbmdnb3RhIDogLSIpDQoJZWxzZToNCgkJcHJpbnQoYmFsbW9uZCtoKyIgXHgxYlsxOzk0bT4+IEFuZ2dvdGEgOlx4MWJbMTs5N20gIitzdHIoYW5nWzBdKSkNCglncnVwMSh1cmwpDQpkZWYgZ3J1cDEodXJscyk6DQoJdXNlID0gW10NCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCglwcmludCgiIitiYWxtb25kK20rIiBceDFiWzE7OTRJZiBzdG9wcGVkLCA1IFNlY29uZHMgQWlycGxhbmUgTW9kZSIpDQoJcHJpbnQoYmFsbW9uZCttKyIgXHgxYlsxOzk0R2F0aGVyaW5nIElEIikNCglwcmludChiYWxtb25kK20rIiBceDFiWzE7OTRtVGVrYW4gQ1RSTCArIEMgZm9yIFN0b3AiKQ0KCXdoaWxlIFRydWU6DQoJCXRyeToNCgkJCXVhID0gJ01vemlsbGEvNS4wIChTeW1iaWFuT1MvOS4zOyBTZXJpZXM2MC8zLjIgTm9raWFFNTItMS8wNTIuMDAzOyBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgKSBBcHBsZVdlYktpdC81MjUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzMuMCBCcm93c2VyTkcvNy4yLjYuMiAzZ3BwLWdiYScNCgkJCW1pc2tpbmx1ID0geyJ1c2VyLWFnZW50IjogdWF9DQoJCQl0cnk6DQoJCQkJdXJsID0gdXNlWzBdDQoJCQlleGNlcHQ6DQoJCQkJdXJsID0gdXJscw0KCQkJc2V0ID0gcGFyc2VyKHNlcy5nZXQodXJsLCBoZWFkZXJzPW1pc2tpbmx1KS50ZXh0LCAiaHRtbC5wYXJzZXIiKQ0KCQkJYmYyID0gc2V0LmZpbmRfYWxsKCdhJykNCgkJCWZvciBnIGluIGJmMjoNCgkJCQljc3MgPSBzdHIoZykuc3BsaXQoJz4nKQ0KCQkJCWlmICdMaWhhdCBQb3N0aW5nYW4gTGFpbm55YTwvc3BhbicgaW4gY3NzOg0KCQkJCQliY2ogPSBzdHIoZykucmVwbGFjZSgnPGEgaHJlZj0iJywnJykucmVwbGFjZSgnYW1wOycsJycpDQoJCQkJCWJjajIgPSBiY2ouc3BsaXQoJyAnKVswXS5yZXBsYWNlKCciPjxpbWcnLCcnKQ0KCQkJdGVzID0gc2V0LmZpbmRfYWxsKCd0YWJsZScpDQoJCQlmb3IgY2FyaSBpbiB0ZXM6DQoJCQkJbGlhdG5paCA9IGNhcmkudGV4dA0KCQkJCXNwbCA9IGxpYXRuaWguc3BsaXQoJyAnKQ0KCQkJCWlmICdtZW5nYWp1a2FuJyBpbiBzcGw6DQoJCQkJCWlkc2lhcGEgPSByZS5maW5kYWxsKCdjb250ZW50X293bmVyX2lkX25ldy5cdysnLHN0cihjYXJpKSkNCgkJCQkJaWR5b3UgPQlpZHNpYXBhWzBdLnJlcGxhY2UoJ2NvbnRlbnRfb3duZXJfaWRfbmV3LicsJycpDQoJCQkJCW5hbWF5b3UgPSBsaWF0bmloLnJlcGxhY2UoJyBtZW5nYWp1a2FuIHBlcnRhbnlhYW4gLicsJycpDQoJCQkJCWlka3UgPSBpZHlvdSsnfCcrbmFtYXlvdQ0KCQkJCQlpZiBpZGt1IGluIGlkOg0KCQkJCQkJY29udGludWUNCgkJCQkJZWxzZToNCgkJCQkJCWlkLmFwcGVuZChpZGt1KQ0KCQkJCQkJcHJpbnQoKCJcciIrYmFsbW9uZCtoKyIgeyAiK2srIlByb3NlcyBNZW5nYW1iaWwgSUQgIitzdHIobGVuKGlkKSkraCsiIH0iKSwgZW5kPSIiKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCQllbGlmICc+JyBpbiBzcGw6DQoJCQkJCWlkc2lhcGEgPSByZS5maW5kYWxsKCdjb250ZW50X293bmVyX2lkX25ldy5cdysnLHN0cihjYXJpKSkNCgkJCQkJaWR5b3UgPQlpZHNpYXBhWzBdLnJlcGxhY2UoJ2NvbnRlbnRfb3duZXJfaWRfbmV3LicsJycpDQoJCQkJCW5hbWF5b3UgPSBsaWF0bmloLnNwbGl0KCcgPiAnKVswXQ0KCQkJCQlpZGt1ID0gaWR5b3UrJ3wnK25hbWF5b3UNCgkJCQkJaWYgaWRrdSBpbiBpZDoNCgkJCQkJCWNvbnRpbnVlDQoJCQkJCWVsc2U6DQoJCQkJCQlpZC5hcHBlbmQoaWRrdSkNCgkJCQkJCXByaW50KCgiXHIiK2JhbG1vbmQraCsiIHsgIitPKyJNZW5ndW1wdWxrYW4gSUQgIitzdHIobGVuKGlkKSkraCsiIH0iKSwgZW5kPSIiKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCQllbHNlOg0KCQkJCQljb250aW51ZQ0KCQkJdHJ5Og0KCQkJCWxpbmtfID0gYmNqMg0KCQkJCXVzZS5pbnNlcnQoMCwnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJytsaW5rXykNCgkJCWV4Y2VwdDoNCgkJCQlnaXJhbmcgPSBzZXQuZmluZCgndGl0bGUnKQ0KCQkJCWdpcmFuZzIgPSBnaXJhbmcudGV4dC5yZXBsYWNlKCIgfCBGYWNlYm9vayIsIiIpLnJlcGxhY2UoIiBHcnVwIFB1YmxpayIsIiIpDQoJCQkJaWYgZ2lyYW5nMj09J01hc3VrIEZhY2Vib29rJzoNCgkJCQkJcGFzcw0KCQkJCWVsc2U6DQoJCQkJCWxhaCgpDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCXRyeToNCgkJCQl0aW1lLnNsZWVwKDMxKQ0KCQkJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0Og0KCQkJCWxhaCgpDQoJCWV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoNCgkJCWxhaCgpDQojLS0tLS0tLS0tLS0tLVsgQ1JBQ0stRlJPTS1GSUxFIF0tLS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgY3JhY2tfZmlsZSgpOg0KCXRyeTp2aW4gPSBvcy5saXN0ZGlyKCdEVU1QJykNCglleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQoJCXByaW50KCfinqXinqXinqNGaWxlIE5vdCBmb3VuZCAnKQ0KCQl0aW1lLnNsZWVwKDIpDQoJCWJhY2soKQ0KCWlmIGxlbih2aW4pPT0wOg0KCQlwcmludCgn4p6l4p6l4p6jS2FtdSBUaWRhayBNZW1pbGlraSBGaWxlIER1bXAgJykNCgkJdGltZS5zbGVlcCgyKQ0KCQliYWNrKCkNCgllbHNlOg0KCQljaWggPSAwDQoJCWxvbCA9IHt9DQoJCWZvciBpc2kgaW4gdmluOg0KCQkJdHJ5OmhlbSA9IG9wZW4oJ0RVTVAvJytpc2ksJ3InKS5yZWFkbGluZXMoKQ0KCQkJZXhjZXB0OmNvbnRpbnVlDQoJCQljaWgrPTENCgkJCWlmIGNpaDwxMDA6DQoJCQkJbm9tID0gJycrc3RyKGNpaCkNCgkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pDQoJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkNCgkJCQlwcmludChmJ+KepeKepeKeoyVzLiAlcyAoe2h9ICVze3V9IGlkeiApJyUobm9tLGlzaSxsZW4oaGVtKSkpDQoJCQllbHNlOg0KCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQlwcmludCgnWycrc3RyKGNpaCkrJ10gJytpc2krJyBbICcrc3RyKGxlbihoZW0pKSsnIEFjY291bnQgXScrdSkNCgkJCQlwcmludCgn4p6l4p6l4p6jJXMuICVzICh7aH0gJXMge3V9aWR6KSAnJShjaWgsaXNpLGxlbihoZW0pKSkNCgkJZ2VlaCA9IGlucHV0KCdcbuKepeKepeKeo1NlbGVjdCA6ICcpDQoJCXRyeTpnZWggPSBsb2xbZ2VlaF0NCgkJZXhjZXB0IEtleUVycm9yOg0KCQkJcHJpbnQoZid7a33inqXinqXinqNDaG9vc2UgdGhlIEJlbmVyIENvbnRvbCB7dX0nKQ0KCQkJdGltZS5zbGVlcCgzKQ0KCQkJYmFjaygpDQoJCXRyeTpsaW4gPSBvcGVuKCdEVU1QLycrZ2VoLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KCQlleGNlcHQ6DQoJCQlwcmludCgn4p6l4p6l4p6jRmlsZSBOb3QgZm91bmQsIFRyeSBBZ2FpbiBMYXRlciAnKQ0KCQkJdGltZS5zbGVlcCgyKQ0KCQkJYmFjaygpDQoJCWZvciB4aWQgaW4gbGluOg0KCQkJaWQuYXBwZW5kKHhpZCkNCgkJc2V0dGluZygpDQojLS0tLS0tLS0tLS0tLVsgUEVOR0FUVVJBTi1JRFogXS0tLS0tLS0tLS0tLS0tLSMNCmRlZiBzZXR0aW5nKCk6DQoJY2V0YWsobmVsKCdcdFtib2xkIGN5YW5dICAgICAgICAg4oCiIFRFQUNIRVJTIEZJTkQgVEhFIEFDQ09VTlQg4oCiIFsvYm9sZCBjeWFuXScpKQ0KCXByaW50KCcnKSANCgljZXRhayhuZWwoJ1tib2xkIHllbGxvd13inqMxLiBBY2NvdW50IE9sZCBcbuKeozIuIEFjY291bnQgTmV3XG7inqMzLiBSYW5kb20gW2JvbGQgeWVsbG93XScpKQ0KCXByaW50KCcnKQ0KCWh1ID0gaW5wdXQoJ+KepeKepeKeo1NlbGVjdCA6ICcpDQoJaWYgaHUgaW4gWycxJywnMDEnXToNCgkJZm9yIHR1YSBpbiBzb3J0ZWQoaWQpOg0KCQkJaWQyLmFwcGVuZCh0dWEpDQoNCgllbGlmIGh1IGluIFsnMicsJzAyJ106DQoJCW11ZGE9W10NCgkJZm9yIGJhY290IGluIHNvcnRlZChpZCk6DQoJCQltdWRhLmFwcGVuZChiYWNvdCkNCgkJYmNtPWxlbihtdWRhKQ0KCQliY21pPShiY20tMSkNCgkJZm9yIHhtdWQgaW4gcmFuZ2UoYmNtKToNCgkJCWlkMi5hcHBlbmQobXVkYVtiY21pXSkNCgkJCWJjbWkgLT0xDQoJZWxpZiBodSBpbiBbJzMnLCcwMyddOg0KCQlmb3IgYmFjb3QgaW4gaWQ6DQoJCQl4eCA9IHJhbmRvbS5yYW5kaW50KDAsbGVuKGlkMikpDQoJCQlpZDIuaW5zZXJ0KHh4LGJhY290KQ0KCWVsc2U6DQoJCXByaW50KCfinqXinqXinqNDaG9vc2UgdGhlIEJlbmVyIEtvbnRvb2xsICcpDQoJCWV4aXQoKQ0KCWNldGFrKG5lbCgnXHRbYm9sZCBjeWFuXSAgICAgICAgICAgICDigKIgTUVUSE9EIExPR0lOIOKAoiBbL2JvbGQgY3lhbl0nKSkNCglwcmludCgnJykgDQoJY2V0YWsobmVsKCdbYm9sZCBwdXJwbGVd4p6jMS4gTW9iaWxlKFZlcnkgcmVjb21tZW5kZWQpXG7inqMyLiBNYmFzaWMocmVjb21tZW5kZWQpXG7inqMzLiBUb3VjaFxu4p6jNC4gTXRvdWNoIFtib2xkIHB1cnBsZV0nKSkgDQoJcHJpbnQoJycpDQoJaGMgPSBpbnB1dCgnPj4gU2VsZWN0IDogJykNCglpZiBoYyBpbiBbJzEnLCcwMSddOg0KCQltZXRob2QuYXBwZW5kKCdtb2JpbGUnKQ0KIwllbGlmIGhjIGluIFsnMicsJzAyJ106DQojCQltZXRob2QuYXBwZW5kKCdmcmVlJykNCiMJZWxpZiBoYyBpbiBbJzMnLCcwMyddOg0KIwkJbWV0aG9kLmFwcGVuZCgndG91Y2gnKQ0KCWVsaWYgaGMgaW4gWyc0JywnMDQnXToNCgkJbWV0aG9kLmFwcGVuZCgnbWJhc2ljJykNCgllbHNlOg0KCQltZXRob2QuYXBwZW5kKCdtb2JpbGUnKQ0KCXByaW50KGYne219Tm90ZSA6XG7wn46Ae2t9UkVDT01NRU5EIE5PVCBTSE9XIEFQUExJQ0FUSU9OXG7wn46ARElTR1VTVElORyBVU0UgREVQQVVMVCBQQVNXT1JEICcpIA0KCXByaW50KCcnKQ0KCV9qZW1ib3RfID0gaW5wdXQoJ+KepeKepeKeo1Nob3cgQXBwbGljYXRpb24gKCBZL3QgKSAnKQ0KIwlpZiBfamVtYm90XyBpbiBbJyddOg0KIwkJcHJpbnQoJ+KepeKepeKeo0Nob29zZSB0aGUgQmVuZXIgQ29udG9sICcpDQojCQliYWNrKCkNCiMJZWxpZiBfamVtYm90XyBpbiBbJ3knLCdZJ106DQojCQl0YXBsaWthc2kuYXBwZW5kKCd5YScpDQojCWVsc2U6DQojCQl0YXBsaWthc2kuYXBwZW5kKCdubycpDQoJcHdwbHVzPWlucHV0KCfinqXinqXinqNBZGQgUGFzc3dvcmQgTWFudWFsL2RlcGF1bHQoIG0vZCApICcpDQoJaWYgcHdwbHVzIGluIFsneScsJ1knXToNCgkJcHdwbHVzcy5hcHBlbmQoJ3lhJykNCgkJY2V0YWsobmVsKCdbW3B1cnBsZV3igKJbeWVsbG93XV0gRW50ZXIgQWRkaXRpb25hbCBmb3IgYSBtaW5pbXVtIG9mIDYgY2hhcmFjdGVyc1xuW1twdXJwbGVd4oCiW3llbGxvd11dIEV4YW1wbGUgOltncmVlbl0gYnJvdGhlcixiZCxqYWhpZWRbcHVycGxlXSAnKSkNCgkJcHdrdT1pbnB1dCgnI+KepeKepeKeo0VudGVyIEFkZGl0aW9uYWwgUGFzc3dvcmQgOiAnKQ0KCQlwd2t1aD1wd2t1LnNwbGl0KCcsJykNCgkJZm9yIHhwdyBpbiBwd2t1aDoNCgkJCXB3bnlhLmFwcGVuZCh4cHcpDQoJZWxzZToNCgkJcHdwbHVzcy5hcHBlbmQoJ25vJykNCglwYXNzd3JkKCkNCglleGl0KCkgDQojLS0tLS0tLS0tLS0tLS0tLS0tLVsgQkFHSUFOLVdPUkRMSVNUIF0tLS0tLS0tLS0tLS0jDQpkZWYgcGFzc3dyZCgpOg0KCWNldGFrKG5lbCgnW2JvbGQgY3lhbl0gICAgICAgICAgICAgICBXRUxDT01FIFRPIFJFU1VMVFMsIFlPVSBBUkUgTFVDS1lbYm9sZCBjeWFuXScpKSANCglwcmludChmJyAgICAgICAgICAgICAgICAgICAge219QiB7a31MIHtofUEge3V9QyB7Yn1LICAg4piFICB7Yn1IIHt1fVUge2h9TiBUe2t9IEV7bX0gUntifScpDQoJcHJpbnQoJycpDQoJcHJpbnQoZifinqXinqXinqNUaGUgcmVzdWx0cyBvZiB0aGUge2h9T0t7dX0gU3RvcmVkIERpIDoge2h9T0svJXMge2J9JyUob2tjKSkNCglwcmludChmJ+KepeKepeKeo1RoZSByZXN1bHRzIG9mIHRoZSB7a31DUHtofSBTdG9yZWQgRGkgOiB7a31DUC8lcyB7Yn0nJShjcGMpKQ0KCXByaW50KGYn4p6l4p6l4p6jUGxheSBBaXJwbGFuZSBNb2RlIEV2ZXJ5IDVzZWNvbmQge2h9MWt7dX0gSWR6XG4nKQ0KCXdpdGggdHJlZChtYXhfd29ya2Vycz0zMCkgYXMgcG9vbDoNCgkJZm9yIHl1em9uZyBpbiBpZDI6DQoJCQlpZGYsbm1mID0geXV6b25nLnNwbGl0KCd8JylbMF0seXV6b25nLnNwbGl0KCd8JylbMV0ubG93ZXIoKQ0KCQkJZnJzID0gbm1mLnNwbGl0KCcgJylbMF0NCgkJCXB3diA9IFtdDQoJCQlpZiBsZW4obm1mKTw2Og0KCQkJCWlmIGxlbihmcnMpPDM6DQoJCQkJCXBhc3MNCgkJCQllbHNlOg0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzJykNCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDUnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDU2JykNCgkJCQkJcHd2LmFwcGVuZChmcnMrJzIwMjAnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMjAyMScpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycyMDIyJykNCgkJCWVsc2U6DQoJCQkJaWYgbGVuKGZycyk8MzoNCgkJCQkJcHd2LmFwcGVuZChubWYpDQoJCQkJZWxzZToNCgkJCQkJcHd2LmFwcGVuZChubWYpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjMnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNCcpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NScpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NTYnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMjAyMCcpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycyMDIxJykNCgkJCQkJcHd2LmFwcGVuZChmcnMrJzIwMjInKQ0KCQkJaWYgJ3lhJyBpbiBwd3BsdXNzOg0KCQkJCWZvciB4cHdkIGluIHB3bnlhOg0KCQkJCQlwd3YuYXBwZW5kKHhwd2QpDQoJCQllbHNlOnBhc3MNCgkJCWlmICdtb2JpbGUnIGluIG1ldGhvZDoNCgkJCQlwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQ0KCQkJZWxpZiAnZnJlZScgaW4gbWV0aG9kOg0KCQkJCXBvb2wuc3VibWl0KGNyYWNrZnJlZSxpZGYscHd2KQ0KCQkJZWxpZiAndG91Y2gnIGluIG1ldGhvZDoNCgkJCQlwb29sLnN1Ym1pdChjcmFja3RvdWNoLGlkZixwd3YpDQoJCQllbGlmICdtYmFzaWMnIGluIG1ldGhvZDoNCgkJCQlwb29sLnN1Ym1pdChjcmFja21iYXNpYyxpZGYscHd2KQ0KCQkJZWxzZToNCgkJCQlwb29sLnN1Ym1pdChjcmFja21iYXNpYyxpZGYscHd2KQ0KCXByaW50KCcnKQ0KCWNldGFrKG5lbCgnXHRbcHVycGxlXeKepeKepeKeo1tncmVlbl0gQ3JhY2sgU2VsZXNhaSBOZ2FiLCBKYW5nYW4gTHVwYSBCZXJzeXVrdXJbcHVycGxlXSA8PFt5ZWxsb3ddICcpKQ0KCXByaW50KGYnW3tofeKAont1fV17aH0gT0sgOiB7aH0lcyAnJShvaykpDQoJcHJpbnQoZid7a31be2t94oCie2h9XXtrfSBDUCA6IHtrfSVze3V9ICclKGNwKSkNCglwcmludCgnJykNCglwcmludCgne2t94p6l4p6l4p6jQ29udGludWUgQ3JhY2sgQmFjayAoIFkvdCApID8gJykNCgl3b2kgPSBpbnB1dCgn4p6l4p6l4p6jU2VsZWN0IDogJykNCglpZiB3b2kgaW4gWyd5JywnWSddOg0KCQliYWNrKCkNCgllbHNlOg0KCQlwcmludChmJ1x0e3h94p6l4p6l4p6je2t9IEdvb2QgQnlle3V9ICcpDQoJCXRpbWUuc2xlZXAoMikNCgkJZXhpdCgpDQojLS0tLS0tLS0tLS0tLS0tLS0tLS1bIE1FVE9ERS1CLUFQSSBdLS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgY3JhY2soaWRmLHB3dik6DQoJZ2xvYmFsIGxvb3Asb2ssY3ANCglibyA9IHJhbmRvbS5jaG9pY2UoW20sayxoLGIsdSx4XSkNCglzeXMuc3Rkb3V0LndyaXRlKGYiXHJ7Yn1QTlMtSUQtLT57UH1be2t9e2xvb3B9e1B9L3tofXtsZW4oaWQpfXtQfV3igJR7UH1be0h9e29rfXtQfV3igJR7UH1be2t9e2NwfXt4fV3igJRbe2JvfXsnezouMCV9Jy5mb3JtYXQobG9vcC9mbG9hdChsZW4oaWQpKSl9e1B9XSAgIiksDQoJc3lzLnN0ZG91dC5mbHVzaCgpDQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pDQoJdWEyID0gcmFuZG9tLmNob2ljZSh1Z2VuMikNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCglmb3IgcHcgaW4gcHd2Og0KCQl0cnk6DQoJCQluaXA9cmFuZG9tLmNob2ljZShwcm94KQ0KCQkJcHJveHM9IHsnaHR0cCc6ICdzb2NrczQ6Ly8nK25pcH0NCgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOidtLmZhY2Vib29rLmNvbScsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwidXNlci1hZ2VudCI6dWEyLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJkbnQiOiIxIiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20vIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0pDQoJCQlwID0gc2VzLmdldCgnaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQ0KCQkJZGF0YWEgPXsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJ1aWQiOmlkZiwibmV4dCI6Imh0dHBzOi8vcC5mYWNlYm9vay5jb20vbG9naW4vc2F2ZS1kZXZpY2UvIiwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LH0NCgkJCWtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pDQoJCQlrb2tpKz0nIG1fcGl4ZWxfcmF0aW89Mi42MjU7IHdkPTQxMng3NTYnDQoJCQloZWFkZT17Ikhvc3QiOidtLmZhY2Vib29rLmNvbScsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsIm9yaWdpbiI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50Ijp1YSwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9DQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGNvb2tpZXM9eydjb29raWUnOiBrb2tpfSxoZWFkZXJzPWhlYWRlLGFsbG93X3JlZGlyZWN0cz1GYWxzZSxwcm94aWVzPXByb3hzKQ0KCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQoJCQkJY2V0YWsobmVsKCcgIFtyZWRdICAgICDwn5i08J+YrUJIVC1DUPCfmK3wn5i0W3JlZF0nKSkNCgkJCQlwcmludChmJ1xye0t9Pj4ge2lkZn18e3B3fXtOfScpICAgICANCgkJCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykNCgkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQ0KCQkJCWNwKz0xDQoJCQkJYnJlYWsNCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQoJCQkJb2srPTENCgkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQ0KCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCQljZXRhayhuZWwoJ1tncmVlbl0gICAgICDwn46A8J+YjSBCSFQtT0stWEQg8J+YjfCfjoBbZ3JlZW5dJykpIA0KCQkJCXByaW50KGYnXHJ7SH0+PiB7aWRmfXx7cHd9fHtrdWtpfVxue3VhfXtOfScpDQoJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8Jyt1YSsnXG4nKQ0KCQkJCWNla19hcGsoc2Vzc2lvbixjb2tpKQ0KCQkJCWJyZWFrDQoJCQkJDQoJCQllbHNlOg0KCQkJCWNvbnRpbnVlDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCXRpbWUuc2xlZXAoMzEpDQoJbG9vcCs9MQ0KIy0tLS0tLS0tLS0tLS0tLS0tLVsgTUVUSE9ERS1NQkFTSUMtMiBdLS0tLS0tLS0tLS0tLS0tLS0tLSMNCmRlZiBjcmFja2ZyZWUoaWRmLHB3dik6DQoJZ2xvYmFsIGxvb3Asb2ssY3ANCglzeXMuc3Rkb3V0LndyaXRlKGYiXHIge1B9W3thc3V9TWJhc2lje1B9XXtQfVt7Yn17bG9vcH17UH0ve3B9e2xlbihpZCl9e1B9XeKAlHtQfVt7SH17b2t9e1B9XeKAlHtQfVt7a317Y3B9e3h9XeKAlFt7bX17J3s6LjAlfScuZm9ybWF0KGxvb3AvZmxvYXQobGVuKGlkKSkpfXtQfV0gICIpLA0KCXN5cy5zdGRvdXQuZmx1c2goKQ0KCXVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQ0KCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJZm9yIHB3IGluIHB3djoNCgkJdHJ5Og0KCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6InAuZmFjZWJvb2suY29tIiwnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50Ijp1YSwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtZGVzdCI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL3AuZmFjZWJvb2suY29tLyIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9KQ0KCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vcC5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlLHByb3hpZXM9cHJveHMpDQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQ0KCQkJa29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicNCgkJCWhlYWRlPXsiSG9zdCI6InAuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6Im1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwib3JpZ2luIjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbSIsImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0NCgkJCXBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vcC5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlLHByb3hpZXM9cHJveHMpDQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQljZXRhayhuZWwoJyAgW3JlZF0gICAgIPCfmK0gQkhULUNQIPCfmK1bcmVkXScpKQ0KCQkJCXByaW50KGYnXHJ7S30+PiB7aWRmfXx7cHd9e059JykgICAgIA0KCQkJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQ0KCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpDQoJCQkJY3ArPTENCgkJCQlicmVhaw0KCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQlvays9MQ0KCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQoJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQ0KCQkJCWNldGFrKG5lbCgnW3B1cnBsZV0gICAgICDwn5iNIEJIVC1PSy1YRCDwn5iNW3B1cnBsZV0nKSkgDQoJCQkJcHJpbnQoZidccntIfT4+IHtpZGZ9fHtwd318e2t1a2l9e059JykNCgkJCQlvcGVuKCdPSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykNCgkJCQljZWtfYXBrKHNlc3Npb24sY29raSkNCgkJCQlicmVhaw0KCQkJCQ0KCQkJZWxzZToNCgkJCQljb250aW51ZQ0KCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCQl0aW1lLnNsZWVwKDMxKQ0KCWxvb3ArPTENCg0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgTUVUSE9ERS1UT1VDSC0zIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgY3JhY2t0b3VjaChpZGYscHd2KToNCglnbG9iYWwgbG9vcCxvayxjcA0KCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pDQoJcGVycyA9IGxvb3AqMTAwL2xlbihpZDIpDQoJZmZmID0gJyUnDQoJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkNCglwcm94cz0geydodHRwJzogJ3NvY2tzNTovLycrbmlwfQ0KCXVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQ0KCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJc3lzLnN0ZG91dC53cml0ZSgnXHIlcyDimKwgJXMvJXMg4pisIE9LOiVzIOKYrCBDUDolcyDimKwgJXMlcyVzIOKYrCclKGJpLGxvb3AsbGVuKGlkMiksb2ssY3AsaW50KHBlcnMpLHN0cihmZmYpLHgpKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCglmb3IgcHcgaW4gcHd2Og0KCQl0cnk6DQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjonbWJhc2ljLmZhY2Vib29rLmNvbScsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwidXNlci1hZ2VudCI6dWEyLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJkbnQiOiIxIiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkNCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpDQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQ0KCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J21iYXNpYy5mYWNlYm9vay5jb20nLCJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJvcmlnaW4iOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50Ijp1YSwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6J2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJmxvY2FsZT1pZF9JRCZfcmRyJywiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0pDQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGNvb2tpZXM9eydjb29raWUnOiBrb2tpfSxoZWFkZXJzPWhlYWRlLGFsbG93X3JlZGlyZWN0cz1GYWxzZSxwcm94aWVzPXByb3hzKQ0KCQkJa29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicNCgkJCQ0KCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQoJCQkJaWYgJ3lhJyBpbiBvcHJlazoNCgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykNCgkJCQkJY2VrZXIoaWRmLHB3KQ0KCQkJCWVsaWYgJ3lhJyBpbiBwcmluY3A6DQoJCQkJCXByaW50KCdcbicpDQoJCQkJCXN0YXR1c2NwID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9IFvigKJdIFBBU1NXT1JEIDoge3B3fScNCgkJCQkJc3RhdHVzY3AxID0gbmVsKHN0YXR1c2NwLCBzdHlsZT0ncmVkJykNCgkJCQkJY2V0YWsobmVsKHN0YXR1c2NwMSwgdGl0bGU9J0JIVC1YRCBDUCcpKQ0KCQkJCQlvcGVuKCcvc2RjYXJkL0JIVC1EQVRBL0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQ0KCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQ0KCQkJCQljcCs9MQ0KCQkJCWVsc2U6Y29udGludWUNCgkJCQlicmVhaw0KCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQloZWFkYXBwPXsidXNlci1hZ2VudCI6IlN1cHBvcnRzRnJlc2NvPTEgRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA2LjAuMTsgU00tSjIxMEYgQnVpbGQvTU1CMjlRKSBTb3VyY2UvMSBbRkJBTi9FTUE7VU5JVFlfUEFDS0FHRS8zNDI7RkJCVi8xMDc1ODY3MDY7RkJBVi8xNzIuMC4wLjguMTgyO0ZCRFYvU00tSjIxMEY7RkJMQy9pZF9JRDtGQk9QLzIwXSJ9DQoJCQkJaWYgJ25vJyBpbiB0YXBsaWthc2k6DQoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCQkJb3BlbignL3NkY2FyZC9CSFQtREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykNCgkJCQkJcHJpbnQoJ1xuJykNCgkJCQkJc3RhdHVzb2sgPSBmJ1vigKJdIElEICAgICAgIDoge2lkZn1cblvigKJdIFBBU1NXT1JEIDoge3B3fVxuW+KAol0gQ09PS0lFUyAgOiB7a3VraX0nDQoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykNCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J0JIVC1YRCBPSycpKQ0KCQkJCQlvays9MQ0KCQkJCQlicmVhaw0KCQkJCWVsaWYgJ3lhJyBpbiB0YXBsaWthc2k6DQoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCQkJb3BlbignL3NkY2FyZC9CSFQtREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykNCgkJCQkJdXNlcj1pZGYNCgkJCQkJaW5mb2FrdW4gPSAiIg0KCQkJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJCQkJCWNlazIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQNCgkJCQkJY2VrID1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0DQoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgY3lhbl1b4oCiXSBMSVNUIEFDVElWRSBBUFBMSUNBVElPTlMgOlsvYm9sZCBjeWFuXSBcbiIpDQoJCQkJCWFwa2FrdGlmPXJlLmZpbmRhbGwoJzwvaT48ZGl2IGNsYXNzPSIuKj8iPjxzcGFuIGNsYXNzPSIuKj8iPiguKj8pPC9zcGFuPjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iLio/Ij4oLio/KTwvZGl2PjwvZGl2Picsc3RyKGNlaykpDQoJCQkJCW5vaz0xDQoJCQkJCWZvciBtdW5jdWwgaW4gYXBrYWt0aWY6DQoJCQkJCQlpbmZvYWt1bis9IChmIltib2xkIGN5YW5dW3tub2t9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCBjeWFuXVxuIikNCgkJCQkJCW5vays9MQ0KDQoJCQkJCWhpdD0wDQoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgeWVsbG93XVvigKJdIExJU1QgRVhQSVJFRCBBUFBMSUNBVElPTlMgOlsvYm9sZCB5ZWxsb3ddXG4iKQ0KCQkJCQlhcGtleHA9cmUuZmluZGFsbCgnPC9pPjxkaXYgY2xhc3M9Ii4qPyI+PHNwYW4gY2xhc3M9Ii4qPyI+KC4qPyk8L3NwYW4+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSIuKj8iPiguKj8pPC9kaXY+PC9kaXY+JyxzdHIoY2VrMikpDQoJCQkJCWhpdD0wDQoJCQkJCWZvciBtdW5jdWwgaW4gYXBrZXhwOg0KCQkJCQkJaGl0Kz0xDQoJCQkJCQlpbmZvYWt1biArPSAoZiJbYm9sZCB5ZWxsb3ddW3toaXR9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCB5ZWxsb3ddXG4iKQ0KCQkJCQlwcmludCgnXG4nKQ0KCQkJCQlzdGF0dXNvayA9IGYnW2JvbGQgZ3JlZW5dW+KAol0gSUQgICAgICAgOiB7aWRmfVxuW+KAol0gUEFTU1dPUkQgOiB7cHd9XG5b4oCiXSBDT09LSUVTICA6IHtrdWtpfVsvYm9sZCBncmVlbl1cbntpbmZvYWt1bn0nDQoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykNCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J1tib2xkIGdyZWVuXUJIVC1YRCBPS1svYm9sZCBncmVlbl0nKSkNCgkJCQkJb2srPTENCgkJCQkJYnJlYWsNCg0KDQoJCQllbHNlOg0KCQkJCWNvbnRpbnVlDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCXRpbWUuc2xlZXAoMzEpDQoJbG9vcCs9MQ0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIE1FVEhPREUtTVRPVUNIK01PQklMRS00IF0tLS0tLS0tLS0tLS0tLS0tLSMNCmRlZiBjcmFja21iYXNpYyhpZGYscHd2KToNCglnbG9iYWwgbG9vcCxvayxjcA0KCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pDQoJcGVycyA9IGxvb3AqMTAwL2xlbihpZDIpDQoJZmZmID0gJyUnDQoJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkNCglwcm94cz0geydodHRwJzogJ3NvY2tzNTovLycrbmlwfQ0KCXVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQ0KCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJc3lzLnN0ZG91dC53cml0ZSgnXHIlcyDimKwgJXMvJXMg4pisIE9LOiVzIOKYrCBDUDolcyDimKwgJXMlcyVzIOKYrCclKGJpLGxvb3AsbGVuKGlkMiksb2ssY3AsaW50KHBlcnMpLHN0cihmZmYpLHgpKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCglmb3IgcHcgaW4gcHd2Og0KCQl0cnk6DQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeydIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCd1c2VyLWFnZW50JzogdWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9KQ0KCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQ0KCQkJZGF0YWEgPXsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJ1aWQiOmlkZiwibmV4dCI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQ0KCQkJa29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicNCgkJCWhlYWRlPXsnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEnOiAnIiBOb3QgQTtCcmFuZCI7dj0iOTkiLCAiQ2hyb21pdW0iO3Y9Ijk4IicsJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnIkFuZHJvaWQiJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywnb3JpZ2luJzogJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScsJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCd1c2VyLWFnZW50JzogdWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCd4LXJlcXVlc3RlZC13aXRoJzogJ1hNTEh0dHBSZXF1ZXN0Jywnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLCdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLCdyZWZlcmVyJzogJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInLCdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnZnJfRlIsZnI7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnLCdjb25uZWN0aW9uJzogJ2Nsb3NlJ30NCgkJCXBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19yZWRpcmVjdHM9RmFsc2UscHJveGllcz1wcm94cykNCgkJCWlmICJjaGVja3BvaW50IiBpbiBwby5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KCQkJCWlmICd5YScgaW4gb3ByZWs6DQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpDQoJCQkJCWNla2VyKGlkZixwdykNCgkJCQllbGlmICd5YScgaW4gcHJpbmNwOg0KCQkJCQlwcmludCgnXG4nKQ0KCQkJCQlzdGF0dXNjcCA9IGYnW+KAol0gSUQgICAgICAgOiB7aWRmfSBb4oCiXSBQQVNTV09SRCA6IHtwd30nDQoJCQkJCXN0YXR1c2NwMSA9IG5lbChzdGF0dXNjcCwgc3R5bGU9J3JlZCcpDQoJCQkJCWNldGFrKG5lbChzdGF0dXNjcDEsIHRpdGxlPSdCSFQtWEQgQ1AnKSkNCgkJCQkJb3BlbignL3NkY2FyZC9CSFQtREFUQS9DUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykNCgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykNCgkJCQkJY3ArPTENCgkJCQllbHNlOmNvbnRpbnVlDQoJCQkJYnJlYWsNCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQoJCQkJaGVhZGFwcD17InVzZXItYWdlbnQiOiJTdXBwb3J0c0ZyZXNjbz0xIERhbHZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQgNi4wLjE7IFNNLUoyMTBGIEJ1aWxkL01NQjI5USkgU291cmNlLzEgW0ZCQU4vRU1BO1VOSVRZX1BBQ0tBR0UvMzQyO0ZCQlYvMTA3NTg2NzA2O0ZCQVYvMTcyLjAuMC44LjE4MjtGQkRWL1NNLUoyMTBGO0ZCTEMvaWRfSUQ7RkJPUC8yMF0ifQ0KCQkJCWlmICdubycgaW4gdGFwbGlrYXNpOg0KCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQ0KCQkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pDQoJCQkJCW9wZW4oJy9zZGNhcmQvQkhULURBVEEvT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpDQoJCQkJCXByaW50KCdcbicpDQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9Jw0KCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpDQoJCQkJCWNldGFrKG5lbChzdGF0dXNvazEsIHRpdGxlPSdPSycpKQ0KCQkJCQlvays9MQ0KCQkJCQlicmVhaw0KCQkJCWVsaWYgJ3lhJyBpbiB0YXBsaWthc2k6DQoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCQkJb3BlbignL3NkY2FyZC9CSFQtREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykNCgkJCQkJdXNlcj1pZGYNCgkJCQkJaW5mb2FrdW4gPSAiIg0KCQkJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJCQkJCWNlazIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQNCgkJCQkJY2VrID1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0DQoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgY3lhbl1b4oCiXSBMSVNUIEFDVElWRSBBUFBMSUNBVElPTlMgOlsvYm9sZCBjeWFuXSBcbiIpDQoJCQkJCWFwa2FrdGlmPXJlLmZpbmRhbGwoJzwvaT48ZGl2IGNsYXNzPSIuKj8iPjxzcGFuIGNsYXNzPSIuKj8iPiguKj8pPC9zcGFuPjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iLio/Ij4oLio/KTwvZGl2PjwvZGl2Picsc3RyKGNlaykpDQoJCQkJCW5vaz0xDQoJCQkJCWZvciBtdW5jdWwgaW4gYXBrYWt0aWY6DQoJCQkJCQlpbmZvYWt1bis9IChmIltib2xkIGN5YW5dW3tub2t9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCBjeWFuXVxuIikNCgkJCQkJCW5vays9MQ0KDQoJCQkJCWhpdD0wDQoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgeWVsbG93XVvigKJdIExJU1QgRVhQSVJFRCBBUFBMSUNBVElPTlMgOlsvYm9sZCB5ZWxsb3ddXG4iKQ0KCQkJCQlhcGtleHA9cmUuZmluZGFsbCgnPC9pPjxkaXYgY2xhc3M9Ii4qPyI+PHNwYW4gY2xhc3M9Ii4qPyI+KC4qPyk8L3NwYW4+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSIuKj8iPiguKj8pPC9kaXY+PC9kaXY+JyxzdHIoY2VrMikpDQoJCQkJCWhpdD0wDQoJCQkJCWZvciBtdW5jdWwgaW4gYXBrZXhwOg0KCQkJCQkJaGl0Kz0xDQoJCQkJCQlpbmZvYWt1biArPSAoZiJbYm9sZCB5ZWxsb3ddW3toaXR9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCB5ZWxsb3ddXG4iKQ0KCQkJCQlwcmludCgnXG4nKQ0KCQkJCQlzdGF0dXNvayA9IGYnW2JvbGQgZ3JlZW5dW+KAol0gSUQgICAgICAgOiB7aWRmfVxuW+KAol0gUEFTU1dPUkQgOiB7cHd9XG5b4oCiXSBDT09LSUVTICA6IHtrdWtpfVsvYm9sZCBncmVlbl1cbntpbmZvYWt1bn0nDQoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykNCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J1tib2xkIGdyZWVuXUJIVC1YRCBPS1svYm9sZCBncmVlbl0nKSkNCgkJCQkJb2srPTENCgkJCQkJYnJlYWsNCgkJCWVsc2U6DQoJCQkJY29udGludWUNCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJdGltZS5zbGVlcCgzMSkNCglsb29wKz0xDQojLS0tLS0tLS0tLS0tLS0tLS0tLS1bIENIRUNLLU9QU0ktQ0hFS1BPSU5UIF0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KZGVmIGNla2VyKGlkZixwdyk6DQoJZ2xvYmFsIGNwDQoJdWEgPSAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjEyOCBTYWZhcmkvNTM3LjM2IEZCTUYvSFVBV0VJO0ZCQkQvSFVBV0VJO0ZCUE4vY29tLmZhY2Vib29rLnNlcnZpY2VzO0ZCRFYvRVZSLUwyOTtGQlNWLzEwO0ZCTFIvMDtGQkJLLzE7RkJDQS9hcm02NC12OGE6O10nDQoJaGVhZCA9IHsiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCJvcmlnaW4iOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiB1YSwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsInNlYy1mZXRjaC11c2VyIjogIj8xIiwic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLCJyZWZlcmVyIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9DQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJdHJ5Og0KCQloaSA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQoJCWhvID0gc29wKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YT17J2VtYWlsJzppZGYsJ3Bhc3MnOnB3LCdsb2dpbic6J3N1Ym1pdCd9LCBoZWFkZXJzPWhlYWQsIGFsbG93X3JlZGlyZWN0cz1UcnVlKS50ZXh0LCdodG1sLnBhcnNlcicpDQoJCWpvID0gaG8uZmluZCgnZm9ybScpDQoJCWRhdGEgPSB7fQ0KCQlsaW9uID0gWyduaCcsJ2phem9lc3QnLCdmYl9kdHNnJywnc3VibWl0W0NvbnRpbnVlXScsJ2NoZWNrcG9pbnRfZGF0YSddDQoJCWZvciBhbmogaW4gam8oJ2lucHV0Jyk6DQoJCQlpZiBhbmouZ2V0KCduYW1lJykgaW4gbGlvbjoNCgkJCQlkYXRhLnVwZGF0ZSh7YW5qLmdldCgnbmFtZScpOmFuai5nZXQoJ3ZhbHVlJyl9KQ0KCQlrZW50ID0gc29wKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nK3N0cihqb1snYWN0aW9uJ10pLCBkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZCkudGV4dCwnaHRtbC5wYXJzZXInKQ0KCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gQ1AgICAgICAgJXMnJShiLGlkZixwdyx4KSkNCgkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpDQoJCWNwKz0xDQoJCW9wc2kgPSBrZW50LmZpbmRfYWxsKCdvcHRpb24nKQ0KCQlpZiBsZW4ob3BzaSk9PTA6DQoJCQlwcmludCgnXHIlcy0tLT4gVGFwIFllcyAvIEEyRiAoQ2hlY2sgTG9naW4gb24gTGl0ZS9NYmFzaWMlcyknJShoaCx4KSkNCgkJZWxzZToNCgkJCWZvciBvcHNpaSBpbiBvcHNpOg0KCQkJCXByaW50KCdcciVzLS0tPiAlcyVzJyUoa2ssb3BzaWkudGV4dCx4KSkNCglleGNlcHQgRXhjZXB0aW9uIGFzIGM6DQoJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWRmLHB3LHgpKQ0KCQlwcmludCgnXHIlcy0tLT4gQ2Fubm90IENoZWNrIE9wdGlvbnMgKENoZWNrIExvZ2luIG9uIExpdGUvTWJhc2ljKSVzJyUodSx4KSkNCgkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpDQoJCWNwKz0xDQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIENIRUNLLU9QU0ktQ0hFS1BPSU5ULTIgXS0tLS0tLS0tLS0tLS0tLS0jDQpkZWYgY2VrX29wc2koKToNCgljID0gbGVuKGFrdW4pDQoJaHUgPSAnVGhlcmUgYXJlICVzIEFjY291bnQgVG8gQmUgQ2hlY2tlZCBCZWZvcmUgU3RhcnRpbmcsIEFpcnBsYW5lIE1vZGUgLyBVbmxvY2tpbmcgU2ltIENhcmQgRmlyc3QnJShjKQ0KCWNldGFrKG5lbChodSwgdGl0bGU9J09QVElPTiBDRUNLJykpDQoJaW5wdXQodSsnWycraCsn4oCiJyt1KyddIFN0YXJ0JykNCgljZWsgPSAnIyBTVEFSVCBPUFRJT04gQ0VLIFBST0NFU1MnDQoJc29sKCkucHJpbnQobWFyayhjZWssIHN0eWxlPSdncmVlbicpKQ0KCWxvdmUgPSAwDQoJZm9yIGtlcyBpbiBha3VuOg0KCQl0cnk6DQoJCQl0cnk6DQoJCQkJaWQscHcgPSBrZXMuc3BsaXQoJ3wnKVswXSxrZXMuc3BsaXQoJ3wnKVsxXQ0KCQkJZXhjZXB0IEluZGV4RXJyb3I6DQoJCQkJdGltZS5zbGVlcCgyKQ0KCQkJCXByaW50KCdcciVzKysrKyAlcyAtLS0tPiBFcnJvciAgICAgICVzJyUoYixrZXMseCkpDQoJCQkJcHJpbnQoJ1xyJXMtLS0+IFNlcGFyYXRvcnMgTm90IFN1cHBvcnRlZCBGb3IgVGhpcyBQcm9ncmFtJXMnJSh1LHgpKQ0KCQkJCWNvbnRpbnVlDQoJCQliaSA9IHJhbmRvbS5jaG9pY2UoW3UsayxrayxiLGgsaGhdKQ0KCQkJcHJpbnQoJ1xyJXMtLS0+ICVzLyVzIC0tLT4geyAlcyB9JXMnJShiaSxsb3ZlLGxlbihha3VuKSxpZCx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpDQoJCQl1YSA9ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTE7IFRFQ05PIEtEOCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1NS4xMDEgTW9iaWxlIFNhZmFyaS81MzcuMzYnDQoJCQlzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCgkJCWhlYWRlciA9IHsiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCJvcmlnaW4iOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiB1YSwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsInNlYy1mZXRjaC11c2VyIjogIj8xIiwic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLCJyZWZlcmVyIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9DQoJCQloaSA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpDQoJCQlobyA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGE9eydlbWFpbCc6aWQsJ3Bhc3MnOnB3LCdsb2dpbic6J3N1Ym1pdCd9LCBoZWFkZXJzPWhlYWRlciwgYWxsb3dfcmVkaXJlY3RzPVRydWUpLnRleHQsJ2h0bWwucGFyc2VyJykNCgkJCWlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQl0cnk6DQoJCQkJCWpvID0gaG8uZmluZCgnZm9ybScpDQoJCQkJCWRhdGEgPSB7fQ0KCQkJCQlsaW9uID0gWyduaCcsJ2phem9lc3QnLCdmYl9kdHNnJywnc3VibWl0W0NvbnRpbnVlXScsJ2NoZWNrcG9pbnRfZGF0YSddDQoJCQkJCWZvciBhbmogaW4gam8oJ2lucHV0Jyk6DQoJCQkJCQlpZiBhbmouZ2V0KCduYW1lJykgaW4gbGlvbjoNCgkJCQkJCQlkYXRhLnVwZGF0ZSh7YW5qLmdldCgnbmFtZScpOmFuai5nZXQoJ3ZhbHVlJyl9KQ0KCQkJCQlrZW50ID0gc29wKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nK3N0cihqb1snYWN0aW9uJ10pLCBkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZGVyKS50ZXh0LCdodG1sLnBhcnNlcicpDQoJCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWQscHcseCkpDQoJCQkJCW9wc2kgPSBrZW50LmZpbmRfYWxsKCdvcHRpb24nKQ0KCQkJCQlpZiBsZW4ob3BzaSk9PTA6DQoJCQkJCQlwcmludCgnXHIlcy0tLT4gQ2Fubm90IENoZWNrIE9wdGlvbnMlcyknJShoaCx4KSkNCgkJCQkJZWxzZToNCgkJCQkJCWZvciBvcHNpaSBpbiBvcHNpOg0KCQkJCQkJCXByaW50KCdcciVzLS0tPiAlcyVzJyUoa2ssb3BzaWkudGV4dCx4KSkNCgkJCQlleGNlcHQ6DQoJCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWQscHcseCkpDQoJCQkJCXByaW50KCdcciVzLS0tPiBDYW5ub3QgQ2hlY2sgT3B0aW9ucyVzJyUodSx4KSkNCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQoJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IE9LICAgICAgICVzJyUoaCxpZCxwdyx4KSkNCgkJCWVsc2U6DQoJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IFdST05HICAgICAgICVzJyUoeCxpZCxwdyx4KSkNCgkJCWxvdmUrPTENCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJcHJpbnQoJycpDQoJCQlsaSA9ICcjICBJTlRFUk5FVCBDT05ORUNUSU9OIElTIFBST0JMRU0sIENIRUNLICcNCgkJCXNvbCgpLnByaW50KG1hcmsobGksIHN0eWxlPSdyZWQnKSkNCgkJCWV4aXQoKQ0KCWRhaCA9ICcjIERPTkUnDQoJc29sKCkucHJpbnQobWFyayhkYWgsIHN0eWxlPSdncmVlbicpKQ0KCWV4aXQoKQ0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIENFSy1BUExJS0FTSSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KZGVmIGNla19hcGsoc2Vzc2lvbixjb29raWUpOg0KCXc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29va2llfSkudGV4dA0KCXNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KCXggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCglnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KCWlmIGxlbihnYW1lKT09MDoNCgkJcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gb3BzaGggdGlkYWsgYWRhIGFwbGlrYXNpIGFrdGlmIGRpIGFrdW4gaW5pLiIpDQoJZWxzZToNCgkJZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCgkJCXByaW50KCIgICAlcyVzLiAlcyVzIiUoSCxpKzEsZ2FtZVtpXS5yZXBsYWNlKCJEaXRhbWJhaGthbiBwYWRhIiwiIERpdGFtYmFoa2FuIHBhZGEiKSxOKSkNCgl3PXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29va2llfSkudGV4dA0KCXNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KCXggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCglnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KCWlmIGxlbihnYW1lKT09MDoNCgkJcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gb3BzaGggdGlkYWsgYWRhIGFwbGlrYXNpIGthZGFsdWFyc2EgZGkgYWt1biBpbmkuIikNCgllbHNlOg0KCQlmb3IgaSBpbiByYW5nZShsZW4oZ2FtZSkpOg0KCQkJcHJpbnQoIiAgICVzJXMuICVzJXMiJShLLGkrMSxnYW1lW2ldLnJlcGxhY2UoIktlZGFsdXdhcnNhIiwiIEtlZGFsdXdhcnNhIiksTikpDQoNCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgU1lTVEVNLUNPTlRST0wgXS0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KaWYgX19uYW1lX189PSdfX21haW5fXyc6DQoJdHJ5Om9zLnN5c3RlbSgnZ2l0IHB1bGwnKQ0KCWV4Y2VwdDpwYXNzDQoJdHJ5Om9zLm1rZGlyKCdPSycpDQoJZXhjZXB0OnBhc3MNCgl0cnk6b3MubWtkaXIoJ0NQJykNCglleGNlcHQ6cGFzcw0KCXRyeTpvcy5ta2RpcignRFVNUCcpDQoJZXhjZXB0OnBhc3MNCgl0cnk6b3Muc3lzdGVtKCd0b3VjaCAucHJveC50eHQnKQ0KCWV4Y2VwdDpwYXNzDQoJbG9naW4oKQ0KDQojPj4+Pj4gVEhBTktTIFRPIFRISVMgSEVSRSA8PDw8PDw8Iw0KIz4+Pj4+IENvd29rX3BpbmtfMTM8PDw8PCMNCg=="))